; Pachelbel's Canon in D

canon_start:
  dw ch1,ch2,ch3,cello,drum_finish,finish

drum_finish:
  db $00,$e0

cello:
  db $b0,0,28 ; set counter 0 to 28
  db $00,$4d,$4d,$b3 ; pwm
  dw $0330
.loop:
  db $23,48 ; 1
  db $92,48
  db $b2,48
  db $62,48
  db $72,48 ; 2
  db $22,48
  db $72,48
  db $92,48

  db $a0,0 ; djnz 0,.loop
  dw .loop

  db $23,48 ; last note
finish:
  db $e0 ; end

ch3:
  db $b0,1,2
  db $b0,2,3

  db $80,192
  db $80,192
ch2:
  db $80,192
  db $80,192
ch1:
  db $80,192
  db $80,192

; db $60,12,15,90 ; vibrato (is broken)
  db $40,$c0 ; length

; 3
  db $65,48
  db $45,48
  db $25,48
  db $15,48
; 4
  db $b4,48
  db $94,48
  db $b4,48
  db $15,48
; 5
  db $25,48
  db $15,48
  db $b4,48
  db $94,48
; 6
  db $74,48
  db $64,48
  db $74,48
  db $44,48

; 7
  db $30,0
  db $24,24
  db $40,$c0
  db $64,24
  db $30,0
  db $94,24
  db $40,$c0
  db $74,24
  db $30,0
  db $64,24
  db $40,$c0
  db $24,24
  db $30,0
  db $64,24
  db $40,$c0
  db $44,24
; 8
  db $30,0
  db $24,24
  db $40,$c0
  db $b3,24
  db $30,0
  db $24,24
  db $40,$c0
  db $94,24
  db $30,0
  db $74,24
  db $40,$c0
  db $b4,24
  db $30,0
  db $94,24
  db $40,$c0
  db $74,24
; 9
  db $30,0
  db $64,24
  db $40,$c0
  db $24,24
  db $30,0
  db $44,24
  db $40,$c0
  db $15,24
  db $30,0
  db $25,24
  db $40,$c0
  db $65,24
  db $30,0
  db $95,24
  db $40,$c0
  db $94,24
; 10
  db $30,0
  db $b4,24
  db $40,$c0
  db $74,24
  db $30,0
  db $94,24
  db $40,$c0
  db $64,24
  db $24,24
  db $25,24
  db $25,36
  db $15,12
; 11
  db $25,12
  db $15,12
  db $25,12
  db $24,12
  db $14,12
  db $94,12
  db $44,12
  db $64,12
  db $24,12
  db $25,12
  db $15,12
  db $b4,12
  db $15,12
  db $65,12
  db $95,12
  db $b5,12
; 12
  db $75,12
  db $65,12
  db $45,12
  db $75,12
  db $65,12
  db $45,12
  db $25,12
  db $15,12
  db $b4,12
  db $94,12
  db $74,12
  db $64,12
  db $44,12
  db $74,12
  db $64,12
  db $44,12
; 13
  db $24,12
  db $44,12
  db $64,12
  db $74,12
  db $94,12
  db $44,12
  db $94,12
  db $74,12
  db $64,12
  db $b4,12
  db $94,12
  db $74,12
  db $94,12
  db $74,12
  db $64,12
  db $44,12
; 14
  db $24,12
  db $b3,12
  db $b4,12
  db $15,12
  db $25,12
  db $15,12
  db $b4,12
  db $94,12
  db $74,12
  db $64,12
  db $44,12
  db $b4,12
  db $94,12
  db $b4,12
  db $94,12
  db $74,12
; 15
  db $64,24
  db $65,24
  db $45,48
  db $80,24
  db $25,24
  db $65,48
; 16
  db $b5,48
  db $95,48
  db $b5,48
  db $16,48
; 17
  db $26,24
  db $25,24
  db $15,48
  db $80,24
  db $b4,24
  db $25,48
; 18
  db $25,72
  db $25,24
  db $25,24
  db $75,24
  db $65,24
  db $95,24
; 19
  db $20,6
  db $95,12
  db $65,6
  db $75,6
  db $95,12
  db $65,6
  db $75,6
  db $95,6
  db $94,6
  db $b4,6
  db $15,6
  db $25,6
  db $45,6
  db $65,6
  db $75,6
  db $65,12
  db $25,6
  db $45,6
  db $65,12
  db $64,6
  db $74,6
  db $94,6
  db $b4,6
  db $94,6
  db $74,6
  db $94,6
  db $64,6
  db $74,6
  db $94,6
; 20
  db $74,12
  db $b4,6
  db $94,6
  db $74,12
  db $64,6
  db $44,6
  db $64,6
  db $44,6
  db $24,6
  db $44,6
  db $64,6
  db $74,6
  db $94,6
  db $b4,6
  db $74,12
  db $b4,6
  db $94,6
  db $b4,12
  db $15,6
  db $25,6
  db $94,6
  db $b4,6
  db $15,6
  db $25,6
  db $45,6
  db $65,6
  db $75,6
  db $95,6
; 21
  db $65,12
  db $25,6
  db $45,6
  db $65,12
  db $45,6
  db $25,6
  db $45,6
  db $15,6
  db $25,6
  db $45,6
  db $65,6
  db $45,6
  db $25,6
  db $15,6
  db $25,12
  db $b4,6
  db $15,6
  db $25,12
  db $24,6
  db $44,6
  db $64,6
  db $74,6
  db $64,6
  db $44,6
  db $64,6
  db $25,6
  db $15,6
  db $25,6
; 22
  db $b4,12
  db $25,6
  db $15,6
  db $b4,12
  db $94,6
  db $74,6
  db $94,6
  db $74,6
  db $64,6
  db $74,6
  db $94,6
  db $b4,6
  db $15,6
  db $25,6
  db $b4,12
  db $25,6
  db $15,6
  db $25,12
  db $15,6
  db $b4,6
  db $15,6
  db $25,6
  db $45,6
  db $25,6
  db $15,6
  db $25,6
  db $b4,6
  db $15,6
; 23
  db $40,$c0
  db $25,24
  db $80,24
  db $15,24
  db $80,24
  db $b4,24
  db $80,24
  db $25,24
  db $80,24
; 24
  db $24,24
  db $80,24
  db $24,24
  db $80,24
  db $24,24
  db $80,24
  db $44,24
  db $80,24
; 25
  db $80,24
  db $94,24
  db $80,24
  db $94,24
  db $80,24
  db $64,24
  db $80,24
  db $94,24
; 26
  db $80,24
  db $74,24
  db $80,24
  db $64,24
  db $80,24
  db $74,24
  db $80,24
  db $45,24
; 27
  db $65,12
  db $64,12
  db $74,12
  db $64,12
  db $44,12
  db $45,12
  db $65,12
  db $45,12
  db $25,12
  db $64,12
  db $24,12
  db $b4,12
  db $94,12
  db $93,12
  db $73,12
  db $93,12
; 28
  db $b3,12
  db $b4,12
  db $15,12
  db $b4,12
  db $94,12
  db $93,12
  db $73,12
  db $93,12
  db $b3,12
  db $b4,12
  db $94,12
  db $b4,12
  db $15,12
  db $14,12
  db $b3,12
  db $14,12
; 29
  db $24,12
  db $25,12
  db $45,12
  db $25,12
  db $15,12
  db $14,12
  db $24,12
  db $14,12
  db $b3,12
  db $b4,12
  db $94,12
  db $b4,12
  db $15,12
  db $14,12
  db $64,12
  db $44,12
; 30
  db $24,12
  db $25,12
  db $45,12
  db $75,12
  db $65,12
  db $64,12
  db $94,12
  db $65,12
  db $25,12
  db $75,12
  db $65,12
  db $75,12
  db $45,12
  db $94,12
  db $74,12
  db $94,12
; 31
  db $64,12
  db $94,12
  db $94,12
  db $94,12
  db $94,12
  db $94,12
  db $94,12
  db $94,12
  db $64,12
  db $64,12
  db $64,12
  db $64,12
  db $64,12
  db $64,12
  db $94,12
  db $94,12
; 32
  db $74,12
  db $74,12
  db $74,12
  db $25,12
  db $25,12
  db $25,12
  db $25,12
  db $25,12
  db $25,12
  db $25,12
  db $b4,12
  db $b4,12
  db $94,12
  db $94,12
  db $45,12
  db $15,12
; 33
  db $94,12
  db $65,12
  db $65,12
  db $65,12
  db $45,12
  db $45,12
  db $45,12
  db $45,12
  db $25,12
  db $25,12
  db $25,12
  db $25,12
  db $95,12
  db $95,12
  db $95,12
  db $95,12
; 34
  db $b5,12
  db $b5,12
  db $b5,12
  db $b5,12
  db $95,12
  db $95,12
  db $95,12
  db $95,12
  db $b5,12
  db $b5,12
  db $b5,12
  db $b5,12
  db $16,12
  db $15,12
  db $15,12
  db $15,12
; 35
  db $25,12
  db $30,0
  db $24,6
  db $44,6
  db $40,$c0
  db $64,12
  db $24,12
  db $14,12
  db $30,0
  db $15,6
  db $25,6
  db $40,$c0
  db $45,12
  db $15,12
  db $b4,12
  db $30,0
  db $b3,6
  db $14,6
  db $40,$c0
  db $24,12
  db $b3,12
  db $14,12
  db $30,0
  db $94,6
  db $74,6
  db $40,$c0
  db $64,12
  db $44,12
; 36
  db $24,12
  db $30,0
  db $74,6
  db $64,6
  db $40,$c0
  db $44,12
  db $74,12
  db $64,12
  db $30,0
  db $24,6
  db $44,6
  db $40,$c0
  db $64,12
  db $94,12
  db $74,12
  db $30,0
  db $b4,6
  db $94,6
  db $40,$c0
  db $74,12
  db $64,12
  db $44,12
  db $30,0
  db $94,6
  db $74,6
  db $40,$c0
  db $64,12
  db $44,12
; 37
  db $64,12
  db $30,0
  db $25,6
  db $15,6
  db $40,$c0
  db $25,12
  db $64,12
  db $94,12
  db $30,0
  db $94,6
  db $b4,6
  db $40,$c0
  db $15,12
  db $94,12
  db $64,12
  db $30,0
  db $25,6
  db $45,6
  db $40,$c0
  db $65,12
  db $25,12
  db $65,12
  db $30,0
  db $65,6
  db $45,6
  db $40,$c0
  db $25,12
  db $15,12
; 38
  db $b4,12
  db $30,0
  db $b4,6
  db $94,6
  db $40,$c0
  db $b4,12
  db $15,12
  db $25,12
  db $30,0
  db $65,6
  db $45,6
  db $40,$c0
  db $25,12
  db $65,12
  db $75,12
  db $30,0
  db $25,6
  db $15,6
  db $40,$c0
  db $b4,12
  db $b4,12
  db $94,12
  db $44,12
  db $94,12
  db $94,12
; 39
  db $94,72
  db $94,24
  db $24,72
  db $94,24
; 40
  db $74,48
  db $94,48
  db $74,24
  db $24,24
  db $24,36
  db $14,12
; 41
  db $24,24
  db $25,24
  db $15,48
  db $b4,48
  db $94,48
; 42
  db $30,0
  db $24,36
  db $20,6
  db $44,12
  db $40,$c0
  db $64,48
  db $b4,48
  db $30,0
  db $44,36
  db $20,6
  db $44,12
; 43
  db $40,$c0
  db $64,36
  db $65,12
  db $30,0
  db $65,12
  db $40,$c0
  db $75,12
  db $30,0
  db $65,12
  db $40,$c0
  db $45,12
  db $25,36
  db $25,12
  db $30,0
  db $25,12
  db $40,$c0
  db $45,12
  db $30,0
  db $25,12
  db $40,$c0
  db $15,12
; 44
  db $b4,48
  db $25,48
  db $30,0
  db $25,12
  db $40,$c0
  db $05,12
  db $30,0
  db $b4,12
  db $40,$c0
  db $05,12
  db $30,0
  db $94,36
  db $20,6
  db $94,12
; 45
  db $40,$c0
  db $94,36
  db $95,12
  db $30,0
  db $95,12
  db $40,$c0
  db $b5,12
  db $30,0
  db $95,12
  db $40,$c0
  db $75,12
  db $65,36
  db $65,12
  db $30,0
  db $65,12
  db $40,$c0
  db $75,12
  db $30,0
  db $65,12
  db $40,$c0
  db $45,12
; 46
  db $30,0
  db $25,12
  db $40,$c0
  db $05,12
  db $30,0
  db $b4,12
  db $40,$c0
  db $05,12
  db $94,36
  db $94,12
  db $74,24
  db $25,24
  db $15,36
  db $15,12
; 47
  db $25,24
  db $25,48
  db $15,48
  db $b4,48
  db $94,48
  db $74,48
  db $30,0
  db $64,60
  db $40,$c0
  db $44,12
  db $44,48
; 49
  db $64,24
  db $65,48
  db $45,24
  db $25,24
  db $26,48
  db $06,24
; 50
  db $b5,48
  db $30,0
  db $26,24
  db $40,$c0
  db $95,24
  db $b5,48
  db $95,48
; 51
  db $95,48
  db $30,0
  db $94,36
  db $40,$c0
  db $74,12
  db $64,48
  db $30,0
  db $65,36
  db $40,$c0
  db $45,12
; 52
  db $25,72
  db $25,24
  db $25,48
  db $15,48

  db $a0,2
  dw ch2.end

; ch3
  db $30,0
  db $25,48
  db $e0

ch2.end:
; 53
  db $25,24
  db $24,24
  db $14,24
  db $15,24
  db $b4,24
  db $b3,24
  db $93,24
  db $94,24
; 54
  db $74,24
  db $75,24
  db $65,24
  db $64,24
  db $44,24
  db $b4,24
  db $44,24
  db $45,24

  db $a0,1
  dw ch1.end

; ch2
  db $30,0
  db $65,48
  db $e0

ch1.end:
; 55
  db $65,24
  db $64,24
  db $44,24
  db $45,24
  db $25,24
  db $24,24
  db $14,24
  db $15,24
; 56
  db $b4,24
  db $b5,24
  db $95,24
  db $94,24
  db $74,36
  db $45,12
  db $94,24
  db $94,24
; 57
  db $30,0
  db $94,48
  db $e0

repeat 1,len:$ - canon_start
  display "canon: ",`len," bytes",10
end repeat
